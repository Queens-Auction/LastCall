### 환경 변수 설정 (IntelliJ HTTP Client 전용)
@host = localhost:8080
@baseUrl = http://{{host}}/api/v1

#######################################
### ===== 회원가입 플로우 =====
#######################################

### 1. 이메일 인증번호 발송
POST {{baseUrl}}/email-verifications
Content-Type: application/json

{
  "email": "eunjin0468@naver.com"
}

### 2. 이메일 인증번호 검증
# 위 요청에서 받은 인증번호를 아래에 입력
PUT {{baseUrl}}/email-verifications/status
Content-Type: application/json

{
  "email": "eunjin0468@naver.com",
  "verificationCode": "738094"
}

### 3. 회원가입
# 이메일 인증 완료 후, verificationPublicId 값을 실제 응답값으로 교체해야 함
POST {{baseUrl}}/auth
Content-Type: application/json

{
  "verificationPublicId": "eb064d0e-a60d-49c8-9d5b-678350a5b003",
  "username": "이은진",
  "nickname": "이은진11",
  "password": "Password123!@#",
  "address": "서울특별시 강남구 테헤란로 123",
  "postcode": "06234",
  "detailAddress": "456호",
  "phoneNumber": "01012345678"
}

#######################################
### ===== 로그인 & 인증 플로우 =====
#######################################

### 4. 로그인
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "eunjin0468@naver.com",
  "password": "Password!1234#"
}


### 5. 로그아웃 (Access Token이 필요할 수도 있음)
POST {{baseUrl}}/auth/logout
Authorization: Bearer {{accessToken}}

### 6. 회원 탈퇴
DELETE {{baseUrl}}/users/me
Authorization: Bearer {{accessToken}}

#######################################
### ===== 내 정보 =====
#######################################

### 7. 내 정보 조회
GET {{baseUrl}}/users/me

### 8. 내 정보 수정
PATCH {{baseUrl}}/users/me
Content-Type: application/json

{
  "nickname": "nickname",
  "addressInfo": {
    "postcode": "06236",
    "address": "서울특별시 강남구 테헤란로 123",
    "detailAddress": "5층 501호"
  },
  "phoneNumber": "010-1234-5678"
}

### 9. 비밀번호 수정
PATCH {{baseUrl}}/users/me/password
Content-Type: application/json

{
  "oldPassword": "Password!1234#",
  "newPassword": "Password!123#"
}





### ===== 토큰 재발급 =====

### 6. Access Token 재발급
# Refresh Token이 쿠키에 있어야 합니다
POST {{baseUrl}}/auth/tokens

### ===== 다른 사용자 테스트 =====

### 이메일 인증번호 발송 (사용자 2)
POST {{baseUrl}}/email-verifications
Content-Type: application/json

{
  "email": "user2@example.com"
}

### 이메일 인증번호 검증 (사용자 2)
PUT {{baseUrl}}/email-verifications/status
Content-Type: application/json

{
  "email": "user2@example.com",
  "code": "123456"
}

### 회원가입 (사용자 2)
POST {{baseUrl}}/auth/signup
Content-Type: application/json

{
  "email": "user2@example.com",
  "password": "password456!",
  "nickname": "테스트유저2"
}

### 로그인 (사용자 2)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "user2@example.com",
  "password": "password456!"
}










